@typeparam TCutParameters
@using SE.TruckTicketing.Contracts.Lookups
@inherits BaseTruckTicketingComponent

<div class="card-header px-0">
    Density (Conversion Factor)
</div>
<br/>
<TridentNumeric id="OilConversionNumeric"
                Name="OilConversionNumeric"
                MaxDecimalPlaces="2"
                @bind-Value="@ViewModel.Oil.DensityConversionFactor"
                Disabled="@(ViewModel.TruckTicket.Status is TruckTicketStatus.Approved or TruckTicketStatus.Invoiced)"
                Change="OnParameterChange"/>
<RadzenNumericRangeValidator Component="OilConversionNumeric"
                             Min="1"
                             Text="Factor must be greater than or equal than 1"
                             class="mt-1 text-danger validation-message"/>
<br/>
<TridentNumeric id="WaterConversionNumeric"
                Name="WaterConversionNumeric"
                MaxDecimalPlaces="2"
                @bind-Value="@ViewModel.Water.DensityConversionFactor"
                Disabled="@(ViewModel.TruckTicket.Status is TruckTicketStatus.Approved or TruckTicketStatus.Invoiced)"
                Change="OnParameterChange"/>
<RadzenNumericRangeValidator Component="WaterConversionNumeric"
                             Min="1"
                             Text="Factor must be greater than or equal than 1"
                             class="mt-1 text-danger validation-message"/>
<br/>
<TridentNumeric id="SolidsConversionNumeric"
                Name="SolidsConversionNumeric"
                MaxDecimalPlaces="2"
                @bind-Value="@ViewModel.Solids.DensityConversionFactor"
                Disabled="@(ViewModel.TruckTicket.Status is TruckTicketStatus.Approved or TruckTicketStatus.Invoiced)"
                Change="OnParameterChange"/>
<RadzenNumericRangeValidator Component="SolidsConversionNumeric"
                             Min="1"
                             Text="Factor must be greater than or equal to 1"
                             class="mt-1 text-danger validation-message"/>
<hr class="text-muted"/>

<div class="d-flex align-items-center gap-2">
    <TridentNumeric class="w-100"
                    TValue="double?"
                    @bind-Value="@_sharedDensity"
                    MaxDecimalPlaces="2"
                    Placeholder="Enter common density"
                    Disabled="@(ViewModel.TruckTicket.Status is TruckTicketStatus.Approved or TruckTicketStatus.Invoiced)"
                    Change="@HandleSharedDensityChange"/>
</div>
